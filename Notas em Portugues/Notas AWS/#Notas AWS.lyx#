#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\use_hyperref false
\papersize default
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
Notas sobre Machine Learning com AWS
\end_layout

\begin_layout Section
Engenharia de Dados
\end_layout

\begin_layout Subsection
Amazon S3
\end_layout

\begin_layout Subsubsection*
Visão Geral
\end_layout

\begin_layout Itemize
O amazon S3 permite que as pessoas armazenem objetos (arquivos) em buckets
 (diretórios);
\end_layout

\begin_layout Itemize
Os buckets devem ter um nome único global, isso porque o endereço de acesso
 de todos os usuários do S3 deve ser único;
\end_layout

\begin_layout Itemize
Os objetos (arquivos) tem uma chave.
 A chave é o caminho completo:
\end_layout

\begin_deeper
\begin_layout Labeling
\labelwidthstring 00.00.0000
<my_bucket>/my_file.txt
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
<my_bucket>/my_folder1/another_folder/my_file.txt
\end_layout

\end_deeper
\begin_layout Itemize
Isso é útil e interessante quando olharmos partições: as partições permitem
 uma consulta mais otimizada;
\end_layout

\begin_layout Itemize
O tamanho máximo de um objeto é de 5TB;
\end_layout

\begin_layout Itemize
Tags de objeto (chave/valor, até 10), úteis para segurança e ciclo de vida;
\end_layout

\begin_layout Subsubsection*
AWS S3 para Machine Learning
\end_layout

\begin_layout Itemize
Backbone para muitos seviços de ML do AWS (ex.
 SageMaker)
\end_layout

\begin_layout Itemize
Cria um DataLake:
\end_layout

\begin_deeper
\begin_layout Itemize
Tamanho infinito, sem necessidade de provisionar o espaço que será utilizado;
\end_layout

\end_deeper
\begin_layout Itemize
Durabilidade 99,99999999%
\end_layout

\begin_deeper
\begin_layout Itemize
A durabilidade é uma medida da probabilidade de seus dados serem não serem
 corrompidos, quanto maior a durabilidade, menos a chance de serem corrompidos.
\end_layout

\end_deeper
\begin_layout Itemize
Armazenamento (S3) desacoplado do processamento (EC2, Amazon, Athena, Amazon
 RedShift Spectrum, Amazon Rekognition e AWS Glue);
\end_layout

\begin_layout Itemize
Arquitetura centralizada: isso é importante para que se tenha todos os seus
 arquivos em único local de forma centralizada;
\end_layout

\begin_layout Itemize
Armazenamento de objetos: suporta qualquer tipo de arquivo;
\end_layout

\begin_layout Itemize
Formatos comuns para ML: CSV, JSON, Parquet, ORC, Avro, Protobuf;
\end_layout

\begin_layout Subsubsection*
AWS S3: Particionamento
\end_layout

\begin_layout Itemize
Padrões para acelerar consultas em intervalos (ex: AWS Athena)
\end_layout

\begin_layout Itemize
Por data: S3://bucket/my-data-set/year/month/day/hour/data_00.csv
\end_layout

\begin_layout Itemize
Por produto: S3://bucket/my-data-set/product-id/data_32.csv
\end_layout

\begin_layout Itemize
Você pode definir qual estratégia de particionamento você quer
\end_layout

\begin_layout Itemize
O particionamento de dados será feito por algumas ferramentas que vamos
 usar.
 (AWS Glue)
\end_layout

\begin_layout Subsection
S3 Storage - Camadas de Armazenamento e Políticas de Ciclo de Vida
\end_layout

\begin_layout Itemize
Amazon S3 Standard - Uso geral;
\end_layout

\begin_layout Itemize
Amazon S3 - Acesso Infrequente (IA);
\end_layout

\begin_layout Itemize
Amazon S3 One Zone - Acesso Infrequente: Armazenada em um local único;
\end_layout

\begin_layout Itemize
Amazon S3 - Camada Inteligente: O serviço escolhe os melhores locais de
 armazenamento visando melhores preços;
\end_layout

\begin_layout Itemize
Amazon Glacier: Utilizado para arquivar dados que não serão mais utilizados;
\end_layout

\begin_layout Subsubsection*
Regras de Ciclo de vida
\end_layout

\begin_layout Itemize
Conjunto de regras para mover os dados entre diferentes camadas, para reduzir
 custo de armazenamento;
\end_layout

\begin_layout Itemize
Exemplo: Primeiramente o arquivo é alocado para uso geral, depois de um
 tempo, este arquivo é alocado para uso infrequente, depois de mais algum
 tempo, esse arquivo então é arquivado, sendo alocado para o Amazon Glacier;
\end_layout

\begin_layout Itemize
Ações de transição: Objetos fazem a transição para outra classe de armazenamento
;
\end_layout

\begin_deeper
\begin_layout Itemize
Mover objetos da classe Padrão para o Uso Infrequente depois de 60 dias
 de criação;
\end_layout

\begin_layout Itemize
Mover os objetos do Uso Infrequente para o Glacier após 6 meses;
\end_layout

\end_deeper
\begin_layout Itemize
Ações de expiração: O S3 exclui objetos experiados para nós ao nosso critério.
\end_layout

\begin_layout Subsection
Segurança
\end_layout

\begin_layout Subsubsection*
Criptografia S3 para Objetos
\end_layout

\begin_layout Itemize
Criptografia S3: A criptografia pode ser realizada no servidor AWS ou pelo
 próprio cliente;
\end_layout

\begin_layout Itemize
Exitem 4 métodos de criptografia para objetos no S3;
\end_layout

\begin_deeper
\begin_layout Itemize
SSE-S3: Criptografa objetos S3 usando chaves criadas e gerenciadas pelo
 AWS;
\end_layout

\begin_layout Itemize
SSE-KMS: Usa o serviço de gestão de chaves do AWS para gerenciar chaves
 criptográficas;
\end_layout

\begin_deeper
\begin_layout Itemize
Segurança adicional (usuário deve ter acesso à chave KMS);
\end_layout

\begin_layout Itemize
Trilha de auditoria da chave KMS;
\end_layout

\end_deeper
\begin_layout Itemize
SSE-C: Quando se quer gerencias as suas próprias chaves;
\end_layout

\begin_layout Itemize
Criptografia no cliente: Ocorre fora do ambiente AWS;
\end_layout

\end_deeper
\begin_layout Itemize
De uma perspectiva de ML, SSE-S3 e SSE-KMS são os mais usados;
\end_layout

\begin_layout Subsubsection*
Gestão de Segurança
\end_layout

\begin_layout Itemize
Gestão de segurança baseada no usuário
\end_layout

\begin_deeper
\begin_layout Itemize
Políticas IAM (Identity Access Management) - Quais chamadas de API devem
 ser permitidas para usuários específicos;
\end_layout

\end_deeper
\begin_layout Itemize
Baseada em recursos
\end_layout

\begin_deeper
\begin_layout Itemize
Políticas de buckets: 
\end_layout

\begin_deeper
\begin_layout Itemize
Regras abrangentes de buckets;
\end_layout

\begin_layout Itemize
Permitem contas cruzadas
\end_layout

\end_deeper
\begin_layout Itemize
Lista de controle de acesso a objetos (ACL):
\end_layout

\begin_deeper
\begin_layout Itemize
Controle mais detalhado;
\end_layout

\end_deeper
\begin_layout Itemize
Lista de controle de acesso ao bucket (ACL):
\end_layout

\begin_deeper
\begin_layout Itemize
Menos comum;
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Políticas de Buckets S3:
\end_layout

\begin_deeper
\begin_layout Itemize
Políticas baseadas em JSON:
\end_layout

\begin_deeper
\begin_layout Itemize
Gerenciamento de Recursos: buckets e objetos
\end_layout

\begin_layout Itemize
Ações: vai permitir ou negar o consumo de uma API;
\end_layout

\begin_layout Itemize
Efeito da API: Permitir ou negar;
\end_layout

\begin_layout Itemize
Principal: A conta ou usuário que aplica a política;
\end_layout

\end_deeper
\begin_layout Itemize
Use a política de Bucket S3 para:
\end_layout

\begin_deeper
\begin_layout Itemize
Dar acesso ao público a um bucket;
\end_layout

\begin_layout Itemize
Forçar objetos a serem criptografados no upload;
\end_layout

\begin_layout Itemize
Dar acesso a outra conta (conta cruzada);
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Criptografia Padrão S3 vs Políticas de Buckets
\end_layout

\begin_deeper
\begin_layout Itemize
A forma antiga de habilitar criptografia por padrão era usar uma política
 de Bucket e recusar qualquer comando HTTP sem o cabeçalho apropriado;
\end_layout

\begin_layout Itemize
A nova forma é usar a opção de 
\begin_inset Quotes eld
\end_inset

criptografia padrão
\begin_inset Quotes erd
\end_inset

 no S3;
\end_layout

\end_deeper
\begin_layout Subsubsection*
Segurança S3 - Outros
\end_layout

\begin_layout Itemize
Rede - VPC (Virtual Private Cloud) Endpoint Gateway:
\end_layout

\begin_deeper
\begin_layout Itemize
Permite que o tráfico fique dentro da sua VPC, ao invés de ir para a internet
 pública;
\end_layout

\begin_layout Itemize
Garante que seus serviços privados (AWS SageMaker) possam acessar o S3;
\end_layout

\begin_layout Itemize
Muito importante para o exame AWS ML;
\end_layout

\end_deeper
\begin_layout Itemize
Log e Auditoria
\end_layout

\begin_deeper
\begin_layout Itemize
Logs de acesso podem ser armazenados em outro bucket S3;
\end_layout

\begin_layout Itemize
Chamadas de API podem ser logadas na 
\begin_inset Quotes eld
\end_inset

AWS Cloud Trail
\begin_inset Quotes erd
\end_inset

;
\end_layout

\end_deeper
\begin_layout Itemize
Baseados em Tags: Combina política IAM e políticas de Bucket:
\end_layout

\begin_deeper
\begin_layout Itemize
Exemplo: Adicionar a tag classification=PHI a seus objetos;
\end_layout

\end_deeper
\begin_layout Subsection
AWS Kinesis Data Stream Data Firehose
\end_layout

\begin_layout Subsubsection*
AWS Kineses: Visão Geral
\end_layout

\begin_layout Itemize
Kinesis é uma alternativa gerenciada do Apache Kafka;
\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
O Apache Kafka é uma ferramenta de Data Streaming.
 
\end_layout

\begin_layout Plain Layout
No Data Streaming os dados são processados em tempo real, ou muito próximo
 do real.
 Diferente do batch de dados, que é um processamento em blocos, geralmente
 ocorrendo tomando os dados obtidos a partir de um intervalo de tempo, como
 dias, semanas meses, ou anos.
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Ótimo para logs de aplicações, IOT, clickstreams;
\end_layout

\begin_layout Itemize
Ótimo para processar dados em tempo real;
\end_layout

\begin_layout Itemize
Ótimo para frameworks de processamento em streaming (Spark, NiFi, etc.)
\end_layout

\begin_layout Itemize
Dados são automaticamente replicados de forma síncrona para 
\begin_inset Formula $3AZ$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Separator plain
\end_inset


\end_layout

\begin_layout Itemize
O AWS Kinesis é formado por 4 aplicações principais:
\end_layout

\begin_deeper
\begin_layout Itemize
Kinesis Streams: Ingestão de streaming com baixa latência e em grande escala;
\end_layout

\begin_layout Itemize
Kinesis Analytics: Executa análise em tempo real em streams usando SQL;
\end_layout

\begin_layout Itemize
Kinesis Firehose: Carrega streams no S3, RedShift, ElasticSearch e Splunk;
\end_layout

\begin_layout Itemize
Kinesis Video Streams: Usado para stream de vídeo em tempo real;
\end_layout

\end_deeper
\begin_layout Itemize
Visão Geral do Kinesis Streams:
\end_layout

\begin_deeper
\begin_layout Itemize
Streams são divididos em Shards ordenados/partições;
\end_layout

\begin_layout Itemize
Os shards devem ser provisionados com antecedência (Planejamento de capacidade);
\end_layout

\begin_layout Itemize
Retenção de dados é de 24 horas por padrão, pode chegar a 7 dias;
\end_layout

\begin_layout Itemize
Capaz de reprocessar dados;
\end_layout

\begin_layout Itemize
Várias aplicações podem consumir o mesmo stream;
\end_layout

\begin_layout Itemize
Uma vez que os dados são inseridos no Kinesis, não pode ser excluído (Imutabilid
ade);
\end_layout

\begin_layout Itemize
Registros podem ter até 1MB de tamanho;
\end_layout

\end_deeper
\begin_layout Itemize
Limites de dados do Kinesis Data
\end_layout

\begin_deeper
\begin_layout Itemize
Produtores
\end_layout

\begin_deeper
\begin_layout Itemize
1MB por segundo ou 1000 mensagens na escrita por SHARD;
\end_layout

\begin_layout Itemize
Ou então 
\begin_inset Quotes eld
\end_inset

ProvisionedThroughputException
\begin_inset Quotes erd
\end_inset

 será levantado, caso o limite seja ultrapassado;
\end_layout

\end_deeper
\begin_layout Itemize
Consumidor clássico:
\end_layout

\begin_deeper
\begin_layout Itemize
2MB/s de leitura por SHARD entre todos os consumidores;
\end_layout

\begin_layout Itemize
5 camadas de API por segundo por SHARD entre todos os consumidores
\end_layout

\end_deeper
\begin_layout Itemize
Retenção de dados:
\end_layout

\begin_deeper
\begin_layout Itemize
24 horas por padrão
\end_layout

\begin_layout Itemize
Pode ser estendido até por 7 dias;
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Kinesis Data Firehose:
\end_layout

\begin_deeper
\begin_layout Itemize
Serviço totalmente gerenciado, sem administração;
\end_layout

\begin_layout Itemize
Próximo ao tempo real (mínimo de 60 segundos de latencia para batches não
 completos);
\end_layout

\begin_layout Itemize
Ingestão de dados no RedShift/Amazon S3/ElasticSearch/Splunk
\end_layout

\begin_layout Itemize
Escala automaticamente;
\end_layout

\begin_layout Itemize
Suporte a muitos formatos de dados;
\end_layout

\begin_layout Itemize
Conversão de dados CSV/JSON para Parquet/ORC (apenas para o S3);
\end_layout

\begin_layout Itemize
Transformação de dados através do AWS Lambda (ex: CSV=>JSON);
\end_layout

\begin_layout Itemize
Suporta compressão quando usa o Amazon S3 (GZIP, ZIP e SNAPPY);
\end_layout

\begin_layout Itemize
Paga-se pela quantidade de dados que entra no Firehose;
\end_layout

\end_deeper
\begin_layout Itemize
Kinesis Data Analytics
\end_layout

\begin_deeper
\begin_layout Itemize
Casos de uso:
\end_layout

\begin_deeper
\begin_layout Itemize
Streaming ETL: Seleciona colunas, faz transformações simples em dados em
 streaming;
\end_layout

\begin_layout Itemize
Gerador contínuo de métricas: classificação ao vivo para um jogo mobile;
\end_layout

\begin_layout Itemize
Análise responsiva: verifica certo critério e cria alertas (filtrando);
\end_layout

\end_deeper
\begin_layout Itemize
Características:
\end_layout

\begin_deeper
\begin_layout Itemize
Paga apenas por recursos consumidos (mas não é barato);
\end_layout

\begin_layout Itemize
Serverless: escala automaticamente;
\end_layout

\begin_layout Itemize
Usa permissão IAM para acessar fontes de streaming e destinos;
\end_layout

\begin_layout Itemize
SQL ou Flink para escrever o processamento;
\end_layout

\begin_layout Itemize
Descoberta de Schema;
\end_layout

\begin_layout Itemize
Lambda pode ser usado para pré-processamento;
\end_layout

\end_deeper
\begin_layout Itemize
Machine Learning no Kinesis Data Analytics:
\end_layout

\begin_deeper
\begin_layout Itemize
RANDOM_CUT_FOREST:
\end_layout

\begin_deeper
\begin_layout Itemize
Função SQL usada para detecção de anomalias em colunas numéricas de um stream;
\end_layout

\begin_layout Itemize
Exemplo: detectar passageiros anormais no metrô durante a maratona de Nova
 Iorque;
\end_layout

\begin_layout Itemize
Usa o histórico recente para processar o modelo;
\end_layout

\end_deeper
\begin_layout Itemize
HOTSPOTS:
\end_layout

\begin_deeper
\begin_layout Itemize
Localiza e informa sobre regiões relativamente densas nos seus dados;
\end_layout

\begin_layout Itemize
Exemplo: uma coleção de servidores superaquecidos em um datacenter;
\end_layout

\end_deeper
\end_deeper
\end_deeper
\begin_layout Itemize
Resumo do Kinesis - Machine Learning:
\end_layout

\begin_deeper
\begin_layout Itemize
Kinesis Data Stream: Cria aplicações de machine learning em tempo real;
\end_layout

\begin_layout Itemize
Kinesis Data Analytics: algoritmos ETL/ML em tempo real em stream;
\end_layout

\begin_layout Itemize
Kinesis Video Stream: Stream de vídeo em tempo real para criar aplicações
 em ML;
\end_layout

\end_deeper
\begin_layout Subsection
Glue Data Catalog
\end_layout

\begin_layout Itemize
Repositório de metadados para todas as suas tabelas;
\end_layout

\begin_deeper
\begin_layout Itemize
Automatiza inferência de schema: lembrando que schema é a definição dos
 seus dados ou a estrutura que os dados tem.
\end_layout

\begin_layout Itemize
O schema é versionado: a medida que a estrutura é mudada, ela é versionada;
\end_layout

\end_deeper
\begin_layout Itemize
Integrado com o Athena ou RedShift Spectrum (schema e data discovery)
\end_layout

\begin_layout Itemize
Glue Crawlers pode lhe ajudar a construir um Glue Data Catalog;
\end_layout

\begin_layout Subsubsection*
Glue Data Catalog - Crawlers
\end_layout

\begin_layout Itemize
Crawlers exploram seus dados para inferir schemas e partições;
\end_layout

\begin_layout Itemize
Funciona com JSON, Parquet, CSV, relacional;
\end_layout

\begin_layout Itemize
Crawlers funciona com: S3, Amazon RedShift, Amazon RDS;
\end_layout

\begin_layout Itemize
O Crawler pode ser agendado ou rodado sob demanda;
\end_layout

\begin_layout Itemize
Para rodar o crawler precisa de uma credencial ou IAM Role para acessar
 as fontes de dados;
\end_layout

\begin_layout Subsubsection*
Glue e Partições S3
\end_layout

\begin_layout Itemize
Glue Crawler vai extrair partições baseadas em como seus dados no S3 estão
 organizados;
\end_layout

\begin_layout Itemize
Pense com antecedência sobre como você consultará seu data lake no S3;
\end_layout

\begin_layout Itemize
Exemplo: dispositivos enviam dados de sensores a cada hora;
\end_layout

\begin_deeper
\begin_layout Itemize
Você consulta principalmente por intervalos de tempo?
\end_layout

\begin_deeper
\begin_layout Itemize
Em caso afirmativo, organize seus intervalos como S3://my-bucket/dataset/aaaa/mm
/dd/dispositivo
\end_layout

\end_deeper
\begin_layout Itemize
Você consulta principalmente por dispositivo?
\end_layout

\begin_deeper
\begin_layout Itemize
Em caso afirmativo, organize seus intervalos como S3://my-bucket/dataset/device/
aaaa/mm/dd
\end_layout

\end_deeper
\end_deeper
\begin_layout Subsubsection*
Glue ETL
\end_layout

\begin_layout Itemize
Transformar dados, limpar dados, enriquecer dados (antes de fazer a análise)
\end_layout

\begin_deeper
\begin_layout Itemize
Gera código ETL em Python ou Scala, você pode modificar o código;
\end_layout

\begin_layout Itemize
Ou você pode fornecer seus próprios scripts Spark ou Pyspark;
\end_layout

\begin_layout Itemize
O destino pode ser S3, JDBC (RDS, RedShift) ou o catálogo de dados do Glue;
\end_layout

\end_deeper
\begin_layout Itemize
Totalmente gerenciado, econômico, paga apenas pelos recursos consumidos;
\end_layout

\begin_layout Itemize
Os jobs são executados em uma plataforma spark serverless;
\end_layout

\begin_layout Itemize
Glue Scheduler para agendar os trabalhos
\end_layout

\begin_layout Itemize
Glue Triggers para automatizar execuções de trabalho com base em 
\begin_inset Quotes eld
\end_inset

eventos
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Subsubsection*
Glue ET: Transformações
\end_layout

\begin_layout Itemize
Transformações empacotadas (Bundled):
\end_layout

\begin_deeper
\begin_layout Itemize
DropFields, DropNullFields: Remover campos nulos;
\end_layout

\begin_layout Itemize
Filter: Específica uma função para filtrar registros;
\end_layout

\begin_layout Itemize
Join: Para enriquecer os dados;
\end_layout

\begin_layout Itemize
Map: Adicionar campos, excluir campos, realizar pesquisas externas;
\end_layout

\end_deeper
\begin_layout Itemize
Transformações para aprendizado de máquinas:
\end_layout

\begin_deeper
\begin_layout Itemize
FindMatches ML: Identifica registros duplicados ou correspondentes em seu
 conjunto de dados, mesmo quando os registros não têm um identificador único
 comum e nenhum campo que corresponde exatamente;
\end_layout

\begin_layout Itemize
Conversões de formato: CSV, JSON, AVRO, Parquet, ORC, XML;
\end_layout

\begin_layout Itemize
Transformações do Apache Spark (exemplo: K-means);
\end_layout

\end_deeper
\begin_layout Subsection
AWS Data Stores Para Machine Learning 
\end_layout

\begin_layout Itemize
RedShift - Data Warehousing, SQL Analytics (OLAP - Online Analytical Processing)
:
\end_layout

\begin_deeper
\begin_layout Itemize
Carrega dados do S3 para o RedShift;
\end_layout

\begin_layout Itemize
Use o RedShift Spectrum para consultar dados diretamente no S3 (sem necessitar
 carregar);
\end_layout

\end_deeper
\begin_layout Itemize
RDS, Aurora:
\end_layout

\begin_deeper
\begin_layout Itemize
Armazenamento Relacional, SQL (OLTP - Online Transaction Processing);
\end_layout

\begin_layout Itemize
Servidores devem ser provisionados com antecedência;
\end_layout

\end_deeper
\begin_layout Itemize
DynamoDB:
\end_layout

\begin_deeper
\begin_layout Itemize
Armazenamento NoSQL, serverless, provisão com capacidade de leitura e escrita;
\end_layout

\begin_layout Itemize
Útil para armazenar o modelo de machine learning servido pela sua aplicação;
\end_layout

\end_deeper
\begin_layout Itemize
S3:
\end_layout

\begin_deeper
\begin_layout Itemize
Armazenamento de objetos;
\end_layout

\begin_layout Itemize
Serverless, armazenamento infinito;
\end_layout

\begin_layout Itemize
Integração com a maioria dos serviços AWS;
\end_layout

\end_deeper
\begin_layout Itemize
ElasticSearch:
\end_layout

\begin_deeper
\begin_layout Itemize
Indexação de dados;
\end_layout

\begin_layout Itemize
Pesquisa nos dados;
\end_layout

\begin_layout Itemize
Clickstream Analytics;
\end_layout

\end_deeper
\begin_layout Itemize
ElastiCache:
\end_layout

\begin_deeper
\begin_layout Itemize
Mecanismo de cache;
\end_layout

\begin_layout Itemize
Não é usado para aprendizado de máquina;
\end_layout

\end_deeper
\begin_layout Subsection
AWS Data Pipeline
\end_layout

\begin_layout Itemize
Os destinos incluem S3, RDS, DynamoDB, RedShift e EMR;
\end_layout

\begin_layout Itemize
Gerencia dependências entre tarefas;
\end_layout

\begin_layout Itemize
Tenta novamente e notifica falhas;
\end_layout

\begin_layout Itemize
As fontes de dados podem ser locais (on-premises);
\end_layout

\begin_layout Itemize
Altamente disponível;
\end_layout

\begin_layout Subsubsection*
AWS Data Pipeline vs Glue
\end_layout

\begin_layout Itemize
Glue:
\end_layout

\begin_deeper
\begin_layout Itemize
Glue ETL - Executa o código Apache Spark, baseado em Scala ou Python, com
 foco no ETL;
\end_layout

\begin_layout Itemize
Não se preocupa em configurar ou gerenciar os recursos;
\end_layout

\begin_layout Itemize
Tem um catálogo de dados para disponibililzar os dados para o Athena ou
 RedShift Spectrum;
\end_layout

\end_deeper
\begin_layout Itemize
Data Pipeline:
\end_layout

\begin_deeper
\begin_layout Itemize
Serviço de Orquestração;
\end_layout

\begin_layout Itemize
Mais controle sobre o ambiente, recursos de computação que executam código;
\end_layout

\begin_layout Itemize
Permite acesso à instâncias EC2 ou EMR (cria recursos em sua própria conta);
\end_layout

\end_deeper
\begin_layout Section
Análise de dados exploratória
\end_layout

\begin_layout Subsection
AWS Athena
\end_layout

\begin_layout Itemize
Serviço de consulta interativa para S3 (SQL);
\end_layout

\begin_deeper
\begin_layout Itemize
Não há necessidade de carregar dados, ele permanece no S3;
\end_layout

\begin_layout Itemize
Utiliza Presto;
\end_layout

\begin_layout Itemize
Serverless;
\end_layout

\begin_layout Itemize
Suporta muitos formatos de dados:
\end_layout

\begin_deeper
\begin_layout Itemize
CSV (legível para humanos);
\end_layout

\begin_layout Itemize
JSON (legível para humanos);
\end_layout

\begin_layout Itemize
ORC (colunar, divísivel);
\end_layout

\begin_layout Itemize
Parquet (colunar, divísivel);
\end_layout

\begin_layout Itemize
Avro (divísivel);
\end_layout

\begin_layout Itemize
Não estruturado, semiestruturado ou estruturado;
\end_layout

\end_deeper
\begin_layout Itemize
Alguns exemplos:
\end_layout

\begin_deeper
\begin_layout Itemize
Consultas ad-hoc de logs da web;
\end_layout

\begin_layout Itemize
Consultas de dados de teste antes de carregar no RedShift;
\end_layout

\begin_layout Itemize
Analisa olos do cloudtrail/cloudfront/VPL/ELB, etc no S3;
\end_layout

\begin_layout Itemize
Integração com notebookos do Jupyter, Zeppelin, RStudio;
\end_layout

\begin_layout Itemize
Integração com o QuickSight;
\end_layout

\begin_layout Itemize
Integração via ODBC/JDBC com ferramentas de visualização;
\end_layout

\end_deeper
\begin_layout Subsubsection*
Modelo de custo do Athena;
\end_layout

\begin_layout Itemize
Paga conforme o uso
\end_layout

\begin_deeper
\begin_layout Itemize
$5 por TB;
\end_layout

\begin_layout Itemize
Consultas bem-sucedidas ou canceladas contam, consultas com falha não;
\end_layout

\end_deeper
\begin_layout Itemize
Sem custo para DDL (CREATE, ALTER, DROP, etc.)
\end_layout

\begin_layout Itemize
Economize muito dinheiro usando formatos em colunas:
\end_layout

\begin_deeper
\begin_layout Itemize
ORC, Parquet;
\end_layout

\begin_layout Itemize
Economize 30-90% e obtenha melhor desempenho;
\end_layout

\end_deeper
\begin_layout Itemize
Glue e S3 têm seus próprios custos;
\end_layout

\begin_layout Subsubsection*
Segurança no Athena 
\end_layout

\end_deeper
\begin_layout Itemize
Controle de Acesso
\end_layout

\begin_deeper
\begin_layout Itemize
IAM, ACLs, Políticas de bucket S3;
\end_layout

\begin_layout Itemize
/AmazonAthenaFullAccess/AWSQuicksightAthenaAccess
\end_layout

\end_deeper
\begin_layout Itemize
Criptografia resultados 
\begin_inset Quotes eld
\end_inset

at rest
\begin_inset Quotes erd
\end_inset

 no diretórios de staging do S3;
\end_layout

\begin_layout Itemize
Croptografia 
\begin_inset Quotes eld
\end_inset

server side
\begin_inset Quotes erd
\end_inset

 com chave KMS (CSE-KMS);
\end_layout

\begin_layout Itemize
Croptografia 
\begin_inset Quotes eld
\end_inset

server side
\begin_inset Quotes erd
\end_inset

 com chave KMS (SSE-KMS);
\end_layout

\begin_layout Itemize
Possibilidade de acesso entre contas na política de Bucket S3;
\end_layout

\begin_layout Itemize
Criptografia Transport Layer Security (TLS) 
\begin_inset Quotes eld
\end_inset

em trânsito
\begin_inset Quotes erd
\end_inset

.
 (entre Athena e S3)
\end_layout

\begin_layout Subsubsection*
Quando não usar o Athena
\end_layout

\begin_layout Itemize
Relatório/Visualização altamente formatados
\end_layout

\begin_deeper
\begin_layout Itemize
É para isso que serve o Quicksight
\end_layout

\end_deeper
\begin_layout Itemize
ETL
\end_layout

\begin_deeper
\begin_layout Itemize
Em vez disso, use o Glue;
\end_layout

\end_deeper
\begin_layout Subsection
Amazon QuickSight
\end_layout

\begin_layout Itemize
Serviço de análise de dados rápido, fácil e baseado na nuvem;
\end_layout

\begin_layout Itemize
Permite que todos os funcionários de uma organização:
\end_layout

\begin_deeper
\begin_layout Itemize
Crie visualizações;
\end_layout

\begin_layout Itemize
Realizar análise ad-hoc;
\end_layout

\begin_layout Itemize
Obtenha rapidamente insight de negócios a partir de dados;
\end_layout

\begin_layout Itemize
A qualquer hora, em qualquer dispositivo (navegadores, celular);
\end_layout

\begin_layout Itemize
Serverless;
\end_layout

\end_deeper
\begin_layout Itemize
Fontes de dados QuickSight
\end_layout

\begin_deeper
\begin_layout Itemize
RedShift;
\end_layout

\begin_layout Itemize
Aurora/RDS;
\end_layout

\begin_layout Itemize
Athena;
\end_layout

\begin_layout Itemize
EC2: Hosted databases
\end_layout

\begin_layout Itemize
Arquivos (S3 ou on-premises)
\end_layout

\begin_deeper
\begin_layout Itemize
Excel;
\end_layout

\begin_layout Itemize
CSV, TSV
\end_layout

\begin_layout Itemize
Formatos de log
\end_layout

\end_deeper
\begin_layout Itemize
A preparação de dados permite ETL limitado;
\end_layout

\end_deeper
\begin_layout Itemize
SPICE
\end_layout

\begin_deeper
\begin_layout Itemize
Os conjuntos de dados são importados para o SPICE
\end_layout

\begin_deeper
\begin_layout Itemize
Mecanismo de cálculo in-memory super rápido e paralelo;
\end_layout

\begin_layout Itemize
Usa armazenamento colunar in-memory, geração de código de máquina;
\end_layout

\begin_layout Itemize
Acelera consultas interativas em grandes conjuntos de dados;
\end_layout

\end_deeper
\begin_layout Itemize
Cada usuário recebe 10GB de SPICE;
\end_layout

\begin_layout Itemize
Altamente disponível durável;
\end_layout

\begin_layout Itemize
Escala para centenas de milhares de usuários;
\end_layout

\end_deeper
\begin_layout Subsubsection*
Casos de uso do QuickSight
\end_layout

\begin_layout Itemize
Exploração/Visualização ad-hoc interativa de dados;
\end_layout

\begin_layout Itemize
Painéis e KPIs;
\end_layout

\begin_layout Itemize
Histórias
\end_layout

\begin_deeper
\begin_layout Itemize
Visitas guiadas por visualizações específicas de uma análise
\end_layout

\begin_layout Itemize
Transmitir os pontos-chave, processo de pensamento, evolução de uma análise;
\end_layout

\begin_layout Itemize
Analisar/Visualizar dados de:
\end_layout

\begin_deeper
\begin_layout Itemize
Logs no S3;
\end_layout

\begin_layout Itemize
Bancos de dados on-premises
\end_layout

\begin_layout Itemize
AWS (RDS, RedShift, Athena, S3)
\end_layout

\begin_layout Itemize
Aplicativos SaaS, como salesforce;
\end_layout

\begin_layout Itemize
Qualquer fonte de dados JDBC/ODBC
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Machine Learning Insights
\end_layout

\begin_deeper
\begin_layout Itemize
Detecção de anomalia;
\end_layout

\begin_layout Itemize
Previsão;
\end_layout

\begin_layout Itemize
Autonarrativas
\end_layout

\end_deeper
\begin_layout Subsubsection*
QuickSight quando não usar
\end_layout

\begin_layout Itemize
Relatórios prontos formatados;
\end_layout

\begin_deeper
\begin_layout Itemize
Quicksight é para consultas e visualizações ad-hoc;
\end_layout

\end_deeper
\begin_layout Itemize
ETL
\end_layout

\begin_deeper
\begin_layout Itemize
Use Glue, embora Quicksight possa fazer algumas transformações;
\end_layout

\end_deeper
\begin_layout Itemize
Segurança do Quicksight;
\end_layout

\begin_deeper
\begin_layout Itemize
Autenticação multifator em sua conta
\end_layout

\begin_layout Itemize
Conectividade VPC;
\end_layout

\begin_deeper
\begin_layout Itemize
Adicione o intervalo de endereços IP do Quicksight aos seus grupos de segurança
 de banco de dados;
\end_layout

\end_deeper
\begin_layout Itemize
Segurança de nível de linha;
\end_layout

\begin_layout Itemize
Acesso VPC privado
\end_layout

\begin_deeper
\begin_layout Itemize
Interface de rede 
\begin_inset Quotes eld
\end_inset

Elastic
\begin_inset Quotes erd
\end_inset

, AWS Direct Connect;
\end_layout

\end_deeper
\end_deeper
\begin_layout Subsubsection*
Gestão de usuários no QuickSight
\end_layout

\begin_layout Itemize
Usuários definidos via IAM ou inscrição por e-mail;
\end_layout

\begin_layout Itemize
Integração do Active Directory com QuickSight Enterprise Edition;
\end_layout

\begin_layout Itemize
Precificação do QuickSight:
\end_layout

\begin_deeper
\begin_layout Itemize
Pagamento anual:
\end_layout

\begin_deeper
\begin_layout Itemize
Standard: $9/Usuário/mês
\end_layout

\begin_layout Itemize
Enterprise: $18/Usuário/mês
\end_layout

\end_deeper
\begin_layout Itemize
Capacidade extra do spice (além do 10GB)
\end_layout

\begin_deeper
\begin_layout Itemize
$0,25 (standard) $0,38 (enterprise)/GB/mês
\end_layout

\end_deeper
\begin_layout Itemize
Mês a mês
\end_layout

\begin_deeper
\begin_layout Itemize
Standard: $12/GB/mês
\end_layout

\begin_layout Itemize
Enterprise: $24/GB/mês
\end_layout

\end_deeper
\begin_layout Itemize
Edição Enterprise:
\end_layout

\begin_deeper
\begin_layout Itemize
Criptografia 
\begin_inset Quotes eld
\end_inset

at rest
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Itemize
Integração com Microsoft Active Directory
\end_layout

\end_deeper
\end_deeper
\begin_layout Subsection
O que é EMR?
\end_layout

\begin_layout Itemize
Elastic Map Reduce;
\end_layout

\begin_layout Itemize
Estrutura Gerenciada do Hadoop em instâncias EC2;
\end_layout

\begin_layout Itemize
Inclui Spark, HBase, Presto, Flink, Hive e mais;
\end_layout

\begin_layout Itemize
EMR notebooks;
\end_layout

\begin_layout Itemize
Vários pontos de integração com AWS;
\end_layout

\begin_layout Subsubsection*
Cluster EMR
\end_layout

\begin_layout Itemize
Master Node: Gerencia o cluster
\end_layout

\begin_deeper
\begin_layout Itemize
Instâncias EC2 única;
\end_layout

\end_deeper
\begin_layout Itemize
Core Node: hospeda dados HDFS e executa tarefas
\end_layout

\begin_deeper
\begin_layout Itemize
Pode ser escalado para cima e para baixo, mas com algum risco;
\end_layout

\end_deeper
\begin_layout Itemize
Task Node: Executa tarefas, não hospeda dados;
\end_layout

\begin_deeper
\begin_layout Itemize
Sem risco de perda de dados ao remover;
\end_layout

\begin_layout Itemize
Bom uso de instâncias pontuais;
\end_layout

\end_deeper
\begin_layout Subsubsection*
Uso do EMR
\end_layout

\begin_layout Itemize
Clusters transitórios versus clusters de longa duração 
\begin_inset Note Note
status open

\begin_layout Plain Layout
O cluster transitório é encerrado quando ele concluir todas as etapas.
\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
Pode alternar task nodes usando 
\begin_inset Quotes eld
\end_inset

Spot Instances
\begin_inset Quotes erd
\end_inset

 para capacidade temporária;
\end_layout

\begin_layout Itemize
Pode usar instâncias reservadas em clusters de longa duração para economizar
 dinheiro;
\end_layout

\end_deeper
\begin_layout Itemize
Conecta diretamente ao mestre para executar ao jobs;
\end_layout

\begin_layout Itemize
Envie as etapas ordenadas por meio do console;
\end_layout

\begin_layout Subsubsection*
Integração EMR / AWS
\end_layout

\begin_layout Itemize
Amazon EC2 para as instâncias dos nós que fazem parte do cluster
\end_layout

\begin_layout Itemize
Amazon VPC para configurar a rede virtual na qual você inicia suas instâncias;
\end_layout

\begin_layout Itemize
Amazon S3 para armazenar dados de entrada e saída;
\end_layout

\begin_layout Itemize
Amazon CloudWatch para monitorar o desempenho do cluster e configurar alarmes;
\end_layout

\begin_layout Itemize
AWS IAM para configurar permissões;
\end_layout

\begin_layout Itemize
AWS CloudTrail para auditar as solicitações feitas ao serviço;
\end_layout

\begin_layout Itemize
AWS Data Pipeline para agendar e iniciar seus clusters;
\end_layout

\begin_layout Subsubsection*
EMR Storage
\end_layout

\begin_layout Itemize
HDFS
\end_layout

\begin_layout Itemize
EMRFS: Acessa S3 como se fosse HDFS
\end_layout

\begin_deeper
\begin_layout Itemize
Visualização consistente EMRFS 
\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
EMRFS você lê dados em S3 como se fosse em HDFS
\end_layout

\end_inset

 - Opcional para consistência S3;
\end_layout

\begin_layout Itemize
Usa DynamoDB para monitorar consistência;
\end_layout

\end_deeper
\begin_layout Itemize
Sistema de arquivos local
\end_layout

\begin_layout Itemize
EBS para HDFS
\end_layout

\begin_layout Itemize
O armazenamento é temporário, então quando você encerrar o cluster os dados
 serão perdidos;
\end_layout

\begin_layout Itemize
Então ele é útil como armazenamento em cache para resultados temporários;
\end_layout

\begin_layout Itemize
Cobrança do EMR por hora
\end_layout

\begin_deeper
\begin_layout Itemize
Mais cobrança EC2
\end_layout

\end_deeper
\begin_layout Itemize
Provê novos nós se um nó central falhar;
\end_layout

\begin_layout Itemize
Pode adicionar e remover nós de tarefas rapidamente;
\end_layout

\begin_layout Itemize
Pode redimensionar os nós centrais de um cluster em execução;
\end_layout

\begin_layout Subsubsection*
Então, o que é Hadoop?
\end_layout

\begin_layout Itemize
O Hadoop é um ecossistema de bigdata.
\end_layout

\begin_layout Itemize
Ele é composto pelos seguintes módulos: 
\end_layout

\begin_deeper
\begin_layout Itemize
Hadoop Core, que tem as bibliotecas e utilitários necessários para os outros
 módulos do Hadoop; 
\end_layout

\begin_layout Itemize
HDFS, sistema de arquivos distribuídos e escalável para Hadoop, ele distribui
 os dados que armazena entre todas as instâncias do cluster.
 Neste caso aqui, o HDFS é não persistente, portanto, se você encerra o
 cluster, os dados são apagados; 
\end_layout

\begin_layout Itemize
Hadoop YARN (Yet Another Resource Negotiator) é um componente para gerenciar
 de forma centralizada os recursos do cluster; 
\end_layout

\begin_layout Itemize
E por fim, o MapReduce, que é uma estrutura de software que permite que
 você crie aplicativos que são capazes de processar grandes volumes de dados,
 em paralelo, em clusters, ao mesmo tempo tolerante à falhas;
\end_layout

\end_deeper
\begin_layout Subsubsection*
Apache Spark
\end_layout

\begin_layout Itemize
O Apache Spark é um sistema de processamento distribuído de código aberto,
 e ele é frequentemente utilizado para processamento de dados;
\end_layout

\begin_layout Itemize
Ele utiliza cache na memória e otimiza a execução das consultas;
\end_layout

\begin_layout Itemize
Com esses elementos, você tem um resultado das análises de maneira mais
 rápido, mesmo com um grande volume de dados sendo processados;
\end_layout

\begin_layout Itemize
Além disso, ele tem APIs, para você desenvolver as suas aplicações em Java,
 Scala, Python e R;
\end_layout

\begin_layout Itemize
Ele suporta a reutilização de código, para vários tipos de tarefas;
\end_layout

\begin_layout Subsubsection*
Como ele é utilizado?
\end_layout

\begin_layout Itemize
Ele pode ser utilizado para o processamento de streaming de dados;
\end_layout

\begin_deeper
\begin_layout Itemize
Por exemplo, ele pode ser utilizado para processar dados em tempo real coletados
 do Amazon Kinesis;
\end_layout

\begin_layout Itemize
Ou do Apache Kafka, ou do Apache Streaming;
\end_layout

\end_deeper
\begin_layout Itemize
A análise do Apache Spark é feita de maneira totalmente tolerante à falhas
 e os resultados são gravados no S3, ou num cluster do HDFS;
\end_layout

\begin_layout Itemize
Com relação ao aprendizado de máquina:
\end_layout

\begin_deeper
\begin_layout Itemize
O Spark inclui o ML Library, ou Machine Learning Library, uma biblioteca
 para fazer aprendizado de máquina em dados de grandes volumes;
\end_layout

\begin_layout Itemize
Ele possui ainda o Spark SQL, que é uma ferramenta de SQL interativo que
 é usado para consultas interativas de baixa latência utilizando linguagem
 SQL ou SQL Hive;
\end_layout

\begin_layout Itemize
Ele não é usado para OLTP, e também não é utilizado para processar dados
 em lote (batch).
 Ele é uma ferramenta para processar dados à medida que os dados são carregados;
\end_layout

\end_deeper
\begin_layout Itemize
Como funciona o Spark?
\end_layout

\begin_deeper
\begin_layout Itemize
Os aplicativos Spark são executados como conjuntos independentes de processos
 em um cluster;
\end_layout

\begin_layout Itemize
Eles são coordenados pelo objeto Spark Context, no programa principal;
\end_layout

\begin_layout Itemize
Logo, a primeira coisa a ser feita quando vamos processar dados utilizando
 o Spark é criar o contexto do Spark;
\end_layout

\begin_layout Itemize
O Spark Context se conecta em diferentes gerenciadores de cluster que alocam
 recursos entre os aplicativos que estão usando os contextos;
\end_layout

\begin_layout Itemize
E quando eles se conectam, o spark adquire executores nos nós que fazem
 parte do cluster;
\end_layout

\begin_layout Itemize
Esses executores são proessos que executam cálculos e armazenam dados para
 os aplicativos que estão executando este código;
\end_layout

\begin_layout Itemize
Na etapa final, o Spark Context envia a tarefa para os executores então
 executarem;
\end_layout

\end_deeper
\begin_layout Subsubsection*
Spark MLLib
\end_layout

\begin_layout Itemize
Classificação: logistic regression, naive bayes;
\end_layout

\begin_layout Itemize
Regressão;
\end_layout

\begin_layout Itemize
Árvore de Decisão;
\end_layout

\begin_layout Itemize
Recommendation engine (ALS);
\end_layout

\begin_layout Itemize
Clustering (K-Means);
\end_layout

\begin_layout Itemize
LDA (topic modeling);
\end_layout

\begin_layout Itemize
Utilitários de fluxo de trabalho de ML (pipelines, transformação de atributos,
 persistência)
\end_layout

\begin_layout Itemize
SVD, PCA, estatísticas;
\end_layout

\begin_layout Subsubsection*
Zeppelin + Spark
\end_layout

\begin_layout Itemize
Pode executar o código do spark interativamente (como no shell do spark);
\end_layout

\begin_layout Itemize
Isso acelera seu ciclo de desenvolvimento;
\end_layout

\begin_layout Itemize
Permite fácil experimentação e exploração de seu big data;
\end_layout

\begin_layout Itemize
Pode executar consultas SQL diretamente no SparkSQL;
\end_layout

\begin_layout Itemize
Os resultados da consulta podem ser visualizados em tabelas e gráficos;
\end_layout

\begin_layout Itemize
Faz com que o Spark pareça mais uma ferramenta de ciência de dados;
\end_layout

\begin_layout Standard
\begin_inset Separator plain
\end_inset


\end_layout

\begin_layout Subsubsection*
EMR Notebook
\end_layout

\begin_layout Itemize
Conceito semelhante ao Zeppelin, com mais integração AWS;
\end_layout

\begin_layout Itemize
Notebooks com backup para S3;
\end_layout

\begin_layout Itemize
Provisione clusters a partir do notebook;
\end_layout

\begin_layout Itemize
Hospedado em um VPC;
\end_layout

\begin_layout Itemize
Acessado apenas por meio do console AWS;
\end_layout

\begin_layout Subsubsection*
Segurança no EMR
\end_layout

\begin_layout Itemize
IAM policies: Concedem ou negam permissão e determinam quais ações um usuário
 pode tomar no EMR, além de outros recursos do AWS.
 Também podemos combinar políticas IAM com tag para controlar o acesso aos
 clusters;
\end_layout

\begin_layout Itemize
Kerberos: É um protocolo de autenticação de rede, que garante que as senhas
 e outras credenciais não sejam enviadas através da rede sem ser criptografadas;
\end_layout

\begin_layout Itemize
SSH: Fornece uma forma segura para os usuários se conectarem por linha de
 comando em instâncias de um cluster.
 Ele também fornece tunelamento para que as interfaces web dos aplicativos
 hospedados no Master Node sejam acessadas;
\end_layout

\begin_layout Itemize
IAM roles: Controla como o EMR pode acessar outros serviços do AWS.
 Cada cluster deve ter uma role de serviço e uma role por perfil de instância
 do EC2, e as políticas de IAM anexadas a essa role fornece permissões para
 o cluster interoperar com outros serviços do AWS e isso vai ser feito com
 o nome do próprio usuário;
\end_layout

\begin_layout Subsubsection*
EMR: Escolhendo os tipos de Instância
\end_layout

\begin_layout Itemize
Master Node:
\end_layout

\begin_deeper
\begin_layout Itemize
m4.large se <50 nós, m4.xlarge se >50 nós;
\end_layout

\end_deeper
\begin_layout Itemize
Core & task nodes:
\end_layout

\begin_deeper
\begin_layout Itemize
m4.large geralmente é suficiente
\end_layout

\begin_layout Itemize
Se o cluster esperar muito por dependências externas (por exemplo um web
 crawler), t2.medium;
\end_layout

\begin_layout Itemize
Desempenho maior: m4.xlarge;
\end_layout

\begin_layout Itemize
Aplicativos de computação intensiva: instâncias com mais CPU;
\end_layout

\begin_layout Itemize
Banco de dados, aplicativos de cache em memória: instâncias com mais memória;
\end_layout

\begin_layout Itemize
Rede/uso intensivo de CPU (NLP, ML) - instâncias de cluster de computador;
\end_layout

\end_deeper
\begin_layout Itemize
Spot Instances
\end_layout

\begin_deeper
\begin_layout Itemize
Bons para nós de tarefa;
\end_layout

\begin_layout Itemize
Use apenas no core & master se você estiver testando ou muito sensível ao
 custo, você está arriscando a perda parcial de dados;
\end_layout

\end_deeper
\begin_layout Subsection
Engenharia de Atributos
\end_layout

\begin_layout Subsubsection*
O que é a Engenharia de Atributos?
\end_layout

\begin_layout Itemize
Aplicar seu conhecimento dos dados - e do modelo que você está usando -
 para criar características melhores para treinar o seu modelo.
\end_layout

\begin_deeper
\begin_layout Itemize
Quais características devo usar?
\end_layout

\begin_layout Itemize
Preciso transformar estas características de alguma forma?
\end_layout

\begin_layout Itemize
Como faço para lidar com dados faltantes?
\end_layout

\begin_layout Itemize
Devo criar novas características a partir das existentes?
\end_layout

\end_deeper
\begin_layout Itemize
Você não pode simplesmente inserir dados brutos e esperar bons resultados;
\end_layout

\begin_layout Itemize
Esta é a arte do aprendizado de máquina, onde a experiência é aplicada;
\end_layout

\begin_layout Subsubsection*
A Maldição da Dimensionalidade
\end_layout

\begin_layout Itemize
Muitas características podem ser um problema - leva a dados esparsos;
\end_layout

\begin_layout Itemize
Cada característica é uma nova dimensão
\end_layout

\begin_layout Itemize
Grande parte da engenharia de atributos é selecionar os atributos mais relevante
s para o problema em questão
\end_layout

\begin_deeper
\begin_layout Itemize
Muitas vezezé aqui que o conhecimento do domínio entra em jogo
\end_layout

\end_deeper
\begin_layout Itemize
Técnicas de redução de dimensionalidade não supervisionadas também podem
 ser empregadas para transformar muitas características em menos características
;
\end_layout

\begin_layout Itemize
PCA;
\end_layout

\begin_layout Itemize
K-Means;
\end_layout

\begin_layout Subsubsection*
Imputando dados ausentes: substituição pela média
\end_layout

\begin_layout Itemize
Substituir os valores ausentes pelo valor médio das colunas (colunas, não
 linhas! Uma coluna representa um único atributo.
 Só faz sentido tirar a média de outras amostras do mesmo atributo);
\end_layout

\begin_layout Itemize
Rápido e fácil, não afeta a média ou o tamanho da amostra do conjunto de
 dados geral;
\end_layout

\begin_layout Itemize
A mediana pode ser uma escolha melhor do que a média quando há outliers;
\end_layout

\begin_layout Itemize
De uma maneira geral pode não ser uma boa ideia:
\end_layout

\begin_deeper
\begin_layout Itemize
Funciona apenas a nível da coluna, perde correlações entre as características;
\end_layout

\begin_layout Itemize
Não pode ser usado em características categóricas (inputar com valor mais
 frequente pode funcionar neste caso, no entando...);
\end_layout

\begin_layout Itemize
Não muito preciso;
\end_layout

\end_deeper
\begin_layout Subsubsection*
Imputando dados ausentes: Machine Learning
\end_layout

\begin_layout Itemize
kNN: Encontre K linhas 
\begin_inset Quotes eld
\end_inset

mais próximas
\begin_inset Quotes erd
\end_inset

 (mais semelhantes) e calcula a média de seus valores;
\end_layout

\begin_deeper
\begin_layout Itemize
Requer dados numéricos, não categóricos;
\end_layout

\begin_layout Itemize
Existem maneiras de lidar com dados categóricos (distância de Hamming),
 mas os dados categóricos provavelmente são mais bem servidos por...
\end_layout

\end_deeper
\begin_layout Itemize
Deep Learning
\end_layout

\begin_deeper
\begin_layout Itemize
Crie um modelo de aprendizado de máquina para imputar dados para seu modelo
 de aprendizado de máquina;
\end_layout

\begin_layout Itemize
Funciona bem para dados categóricos.
 Funciona bem, mas é complexo;
\end_layout

\end_deeper
\begin_layout Itemize
Regressão
\end_layout

\begin_deeper
\begin_layout Itemize
Encontre relações lineares ou não-lineares entre a característica ausente
 e outras características;
\end_layout

\begin_layout Itemize
Técnica mais avançada: MICE (Multiple Imputation de Chained Equations)
\end_layout

\end_deeper
\begin_layout Subsubsection*
Imputando dados ausentes: basta obter mais dados
\end_layout

\begin_layout Itemize
O que é melhor do que imputar dados? Obtendo mais dados reais!
\end_layout

\begin_layout Itemize
Às vezes, você só precisa se esforçar mais ou coletar mais dados;
\end_layout

\begin_layout Subsubsection*
O que são dados não balanceados?
\end_layout

\begin_layout Itemize
Grande discrepância entre casos 
\begin_inset Quotes eld
\end_inset

positivos
\begin_inset Quotes erd
\end_inset

 e 
\begin_inset Quotes eld
\end_inset

negativos
\begin_inset Quotes erd
\end_inset

;
\end_layout

\begin_deeper
\begin_layout Itemize
Ou seja, detecção de fraude.
 A fraude é rara e a maioria das linhas não será fraude;
\end_layout

\begin_layout Itemize
Não deixe que a terminologia o confunda, 
\begin_inset Quotes eld
\end_inset

Positivo
\begin_inset Quotes erd
\end_inset

 não significa 
\begin_inset Quotes eld
\end_inset

bom
\begin_inset Quotes erd
\end_inset

;
\end_layout

\begin_deeper
\begin_layout Itemize
Isso significa que o que você está testando foi o que aconteceu;
\end_layout

\begin_layout Itemize
Se seu modelo de aprendizado de máquina é feito para detectar fraude, então
 fraude é o caso positivo;
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Um problema com redes neurais: não aprende corretamente;
\end_layout

\begin_layout Subsubsection*
Oversampling
\end_layout

\begin_layout Itemize
Amostras duplicadas da classe minoritária;
\end_layout

\begin_layout Itemize
Pode ser feito aleatoriamente;
\end_layout

\begin_layout Subsubsection*
Undersampling
\end_layout

\begin_layout Itemize
Em vez de criar mais amostras positivas, remova as negativas;
\end_layout

\begin_layout Itemize
Jogar dados fora geralmente não é a resposta certa;
\end_layout

\begin_deeper
\begin_layout Itemize
A menos que você esteja especificamente tentando evitar problemas de escala
 de 
\begin_inset Quotes eld
\end_inset

big data
\begin_inset Quotes erd
\end_inset

;
\end_layout

\end_deeper
\begin_layout Subsubsection*
SMOTE
\end_layout

\begin_layout Itemize
É o acrônimo para Synthetic Minority Oversampling Technique;
\end_layout

\begin_layout Itemize
Gera artificialmente novas amostras da classe minoritária usando os vizinhos
 mais próximos;
\end_layout

\begin_deeper
\begin_layout Itemize
Execute K-vizinhos mais próximos de cada amostra da classe minoritária;
\end_layout

\begin_layout Itemize
Crie uma nova amostra a partir do resultado kNN (média dos vizinhos);
\end_layout

\end_deeper
\begin_layout Itemize
Ambos geram novas amostras e classes de maioria de subamostras;
\end_layout

\begin_layout Itemize
Geralmente melhor do que apenas oversampling;
\end_layout

\begin_layout Subsubsection*
Ajustando os limites
\end_layout

\begin_layout Itemize
Ao fazer previsões sobre uma classificação (fraude/não-fraude), você tem
 algum tipo de limite de probabilidade em que sinalizará como o caso positivo
 (fraude);
\end_layout

\begin_layout Itemize
Se você tiver muitos falsos positivos, uma maneira de corrigir isso é simplesmen
te aumentar esse limite;
\end_layout

\begin_deeper
\begin_layout Itemize
Garante a redução de falsos positivos;
\end_layout

\begin_layout Itemize
Mas pode resultar em mais falsos negativos;
\end_layout

\end_deeper
\begin_layout Subsubsection*
Outliers
\end_layout

\begin_layout Itemize
São valores que fogem muito do padrão dos demais dados;
\end_layout

\begin_layout Itemize
Quando falamos de outlier, sempre temos que falar de variância e desvio
 padrão, pois elas são métricas importantes para entender quando um dado
 se apresenta como um outlier;
\end_layout

\begin_layout Subsubsection*
Variância
\end_layout

\begin_layout Itemize
A variância mede o quão 
\begin_inset Quotes eld
\end_inset

espalhados
\begin_inset Quotes erd
\end_inset

 os dados estão;
\end_layout

\begin_layout Itemize
Variância (
\begin_inset Formula $\sigma^{2}$
\end_inset

) é simplesmente a me´dia das diferenças ao quadrado da média;
\end_layout

\begin_layout Itemize
Exemplo: Qual é a variação do conjunto de dados (1, 4, 5, 4, 8)?
\end_layout

\begin_deeper
\begin_layout Itemize
Primeiro encontre a média
\begin_inset Formula 
\[
\overline{x}=\frac{\left(1+4+5+4+8\right)}{5}=4.4
\]

\end_inset


\end_layout

\begin_layout Itemize
Agora encontre as diferenças da média: 
\begin_inset Formula 
\[
x_{i}-\overline{x}=\left(-3.4,-0.4,0.6,-0.4,3.6\right)
\]

\end_inset


\end_layout

\begin_layout Itemize
Encontre as diferenças ao quadrado:
\begin_inset Formula 
\[
\left(x_{i}-\overline{x}\right)^{2}=\left(11.56,0.16,0.36,0.16,12.96\right)
\]

\end_inset


\end_layout

\begin_layout Itemize
Encontre a média das diferenças ao quadrado:
\begin_inset Formula 
\[
\sigma^{2}
\]

\end_inset


\end_layout

\end_deeper
\end_body
\end_document
